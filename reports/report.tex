\documentclass[a4paper,11pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage{graphicx}
\usepackage{array}
\usepackage{booktabs}
\usepackage{amsmath}
\usepackage{float}

\usepackage[scaled]{helvet}
\renewcommand{\familydefault}{\sfdefault}

\usepackage[a4paper, top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}

\usepackage{setspace}
\setstretch{1.5}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

\usepackage{microtype}
\sloppy
\hyphenpenalty=1000
\tolerance=3000

\renewcommand{\footnotesize}{\fontsize{10}{12}\selectfont}

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

\usepackage{titlesec}
\titleformat{\section}{\normalfont\fontsize{12}{14}\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\fontsize{12}{14}\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\fontsize{12}{14}\bfseries}{\thesubsubsection}{1em}{}

\usepackage[
  colorlinks=true,
  linkcolor=black,
  citecolor=blue,
  filecolor=black,
  urlcolor=blue
]{hyperref}
\usepackage[capitalise,nameinlink]{cleveref}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[C]{\thepage}

\usepackage[backend=biber, style=apa]{biblatex}
\addbibresource{references.bib}

\usepackage{titling}

\usepackage{acronym}
\usepackage[german=quotes]{csquotes}

\usepackage{caption}
\usepackage{threeparttable}
\captionsetup[table]{
    font=small,
    skip=10pt,
    labelfont=bf
}

\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}
\lstset{style=mystyle}

\begin{document}

\begin{titlepage}
    \thispagestyle{empty}
    \centering
    \vspace*{5cm}
    {\Huge\bfseries Projekt: Edge AI DLBAIPEAI01\_D \par}
    \vspace{1cm}
    {\Large Fallstudie \par}
    \vspace{0.5cm}
    {\large Studiengang: Angewandte Künstliche Intelligenz \par}
    \vspace{0.5cm}
    {\large Sven Behrens \par}
    \vspace{0.5cm}
    {\large Matrikelnummer: 42303511 \par}
    \vspace{0.5cm}
    {\large Prof. Dr. Bertram Taetz \par}
    \vspace{0.5cm}
    {\large \today \par}
\end{titlepage}

\pagenumbering{Roman}
\setcounter{page}{1}

\tableofcontents
\newpage

\listoffigures
\addcontentsline{toc}{section}{Abbildungsverzeichnis}
\newpage

\listoftables
\addcontentsline{toc}{section}{Tabellenverzeichnis}
\newpage

\section*{Abkürzungsverzeichnis}
\addcontentsline{toc}{section}{Abkürzungsverzeichnis}
\begin{acronym}[ONNX]
    \acro{GRU}{Gated Recurrent Unit}
    \acro{MAE}{Mean Absolute Error}
    \acro{ONNX}{Open Neural Network Exchange}
    \acro{RMSE}{Root Mean Squared Error}
    \acro{WHO}{World Health Organization}
\end{acronym}
\newpage

\pagenumbering{arabic}
\setcounter{page}{1}

\section{Einleitung}
Die Luftqualität in städtischen Gebieten stellt ein wachsendes Gesundheitsrisiko dar. Insbesondere
Feinstaub (PM2.5) und Stickstoffdioxid (NO2) werden mit Atemwegserkrankungen, Herz-Kreislauf-Beschwerden
und einer erhöhten Mortalität in Verbindung gebracht \parencite{who2016airpollution, lelieveld2021luftverschmutzung}. Besonders gefährdet sind vulnerable Gruppen wie
Kinder, ältere Menschen und Personen mit Vorerkrankungen \parencite{eea2023children}. An stark befahrenen Straßen in der Nähe von
Schulen und Wohngebieten können die Schadstoffkonzentrationen kurzfristig kritische Werte erreichen,
ohne dass rechtzeitig Gegenmaßnahmen eingeleitet werden.

Klassische Umweltüberwachungssysteme erfassen zwar kontinuierlich Messdaten, leiten daraus jedoch keine
unmittelbaren Handlungsempfehlungen ab. Die Daten werden zentral gesammelt und erst mit Verzögerung
ausgewertet. Für zeitkritische Anwendungen wie die dynamische Verkehrssteuerung bei Schadstoffspitzen
ist dieser Ansatz unzureichend. Edge AI bietet hier einen vielversprechenden Lösungsansatz: Durch die
lokale Ausführung von Vorhersagemodellen direkt an der Messstation können Prognosen in Echtzeit erstellt
und Maßnahmen ohne Umweg über zentrale Server ausgelöst werden.

Vor diesem Hintergrund wurde im Rahmen des Moduls \enquote{Projekt: Edge AI} an der IU Internationalen
Hochschule ein System entwickelt, das die Luftqualität an der Messstation Hamburg Habichtstraße
vorhersagt. Die Station befindet sich an einer stark befahrenen Straße in unmittelbarer Nähe einer
Schule und eignet sich daher besonders als Anwendungsfall. Das System prognostiziert sowohl die
PM2.5- als auch die NO2-Konzentration eine Stunde im Voraus und leitet daraus ein dreistufiges
Ampelsystem ab, das bei erhöhter Belastung automatisch Verkehrsmaßnahmen wie Geschwindigkeitsbegrenzungen
oder Umleitungen auslösen kann.

Die methodische Vorgehensweise umfasst mehrere aufeinander aufbauende Schritte. Zunächst werden
stündliche Messdaten der OpenAQ-Plattform vorverarbeitet und durch Feature Engineering angereichert.
Anschließend werden vier Modelltypen, lineare Regression, Random Forest, Gradient Boosting und
\ac{GRU}, trainiert und verglichen. Durch eine systematische Feature-Importance-Analyse wird das
Feature-Set von 28 auf 17 Merkmale reduziert. Die besten Modelle werden in das \ac{ONNX}-Format
exportiert und hinsichtlich Inferenzzeit und Modellgröße für den Edge-Einsatz evaluiert. Abschließend
wird eine Edge-Inference-Pipeline implementiert, die den gesamten Ablauf von der Sensorablesung
bis zur Ampelentscheidung abbildet.

Das vorliegende Projekt gliedert sich wie folgt: Nach der Beschreibung der Projektumgebung und
der Datengrundlage werden die Vorverarbeitung und das Modelltraining erläutert. Anschließend werden
die Edge-Optimierung, das Alert-System und die Inference-Pipeline vorgestellt. Abschließend werden
die Ergebnisse kritisch reflektiert und Verbesserungspotenziale aufgezeigt.

\section{Hauptteil}
\subsection{Projektumgebung}
Zu Beginn des Projekts wurde ein GitHub-Repository\footnote{\url{https://github.com/svenb23/EdgeAI}}
angelegt, um eine nachvollziehbare Versionsverwaltung zu gewährleisten. Als Implementierungssprache
wurde Python gewählt. Für die Reproduzierbarkeit wurde eine virtuelle Umgebung mit \texttt{venv}
eingerichtet, in der alle Abhängigkeiten über eine \texttt{requirements.txt} installiert werden.
Zu den zentralen Bibliotheken zählen \texttt{pandas} und \texttt{numpy} für die Datenverarbeitung,
\texttt{scikit-learn} für die klassischen Machine-Learning-Modelle, \texttt{torch} (CPU-Version)
sowie \texttt{onnxruntime} und \texttt{skl2onnx} für den \ac{ONNX}-Export und die Edge-Inferenz.

Die gesamte Pipeline, von den Rohdaten bis zur Edge-Inference-Demo, lässt sich mit einem
einzigen Befehl (\texttt{python run\_all.py}) ausführen. Das Skript ruft alle Verarbeitungsschritte
sequenziell auf und stellt sicher, dass jedes Teilskript im korrekten Arbeitsverzeichnis
ausgeführt wird. Dadurch kann ein Tutor die Ergebnisse ohne manuelle Konfiguration reproduzieren.

\subsection{Datengrundlage}
% TODO: OpenAQ, Station Hamburg Habichtstraße, Schadstoffe (PM2.5, PM10, NO2, CO), Zeitraum 2025

\subsection{Datenvorverarbeitung}
% TODO: Reshape, Time Features, Lag Features, Rolling Features, Cross-Pollutant Features

\subsection{Modelltraining}
\subsubsection{Train/Test-Split}
% TODO: Chronologischer 80/20-Split, 1h-Ahead Targets

\subsubsection{PM2.5-Modelle}
% TODO: Linear Regression, Random Forest, Gradient Boosting, GRU

\subsubsection{NO2-Modelle}
% TODO: Linear Regression, Random Forest, Gradient Boosting, GRU

\subsection{Feature Importance und Feature-Reduktion}
% TODO: Korrelation, MDI, Permutation Importance, Reduktion 28 -> 17 Features

\subsection{Edge-Optimierung}
\subsubsection{ONNX-Export}
% TODO: skl2onnx, torch.onnx.export, Modellgroessen

\subsubsection{Benchmark}
% TODO: Inferenzzeit (Single/Batch), Modellgroesse

\subsection{Alert-System}
% TODO: WHO-Grenzwerte, Eskalationsstufen (Gruen/Gelb/Rot), kombinierte PM2.5 + NO2 Bewertung

\subsection{Edge-Inference-Pipeline}
% TODO: EdgeInference-Klasse, 24h-Buffer, Feature-Berechnung, ONNX-Praediktion, Ampelsteuerung

\section{Fazit}
\subsection{Zielerreichung und Projektergebnisse}
% TODO

\subsection{Kritische Reflexion}
% TODO

\subsection{Verbesserungspotenziale}
% TODO

\subsection{Ausblick}

\section*{Projektrepository}
\addcontentsline{toc}{section}{Projektrepository}
Der vollständige Quellcode ist im GitHub-Repository verfügbar: \url{https://github.com/svenb23/EdgeAI}

\newpage

\printbibliography
\addcontentsline{toc}{section}{Literaturverzeichnis}

\newpage
\section*{Verzeichnis der Anhänge}
\addcontentsline{toc}{section}{Verzeichnis der Anhänge}

\appendix
\section*{Anhang}
\addcontentsline{toc}{section}{Anhang}

% TODO: Abbildungen und Tabellen einfuegen

\end{document}
